<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <input id="search" /><button
      onclick="getrecepe(document.getElementById('search').value)"
    >
      Search
    </button>
    <div id="output"></div>
    <div id="outputRecipe"></div>
    <a href="" id="sourceLink"></a>
    <script>
      function getsource(id) {
        $.ajax({
          url:
            "https://api.spoonacular.com/recipes/" +
            id +
            "/information?apiKey=12d7708ad33d4a8697fac986187f6f15",
          success: function (res) {
            document.getElementById("sourceLink").innerHTML = res.sourceUrl;
            document.getElementById("sourceLink").href = res.sourceUrl;
            console.log(res);
            const recipes = [];
            console.log(res.analyzedInstructions[0].steps);
            document.getElementById("outputRecipe").innerHTML =
              "<h4>" + res.analyzedInstructions[0].steps[0].step + "</h4>";
            document.getElementById("outputRecipe").innerHTML =
              "<h4>" + res.analyzedInstructions[0].steps[1].step + "</h4>";
            document.getElementById("outputRecipe").innerHTML =
              "<h4>" + res.analyzedInstructions[0].steps[2].step + "</h4>";
            document.getElementById("outputRecipe").innerHTML =
              "<h4>" + res.analyzedInstructions[0].steps[3].step + "</h4>";
          },
        });
      }
      function getrecepe(q) {
        $.ajax({
          url:
            "https://api.spoonacular.com/recipes/search?apiKey=12d7708ad33d4a8697fac986187f6f15&number=1&query=" +
            q,
          success: function (res) {
            console.log(res);
            document.getElementById("output").innerHTML =
              "<h1>" +
              res.results[0].title +
              "</h1><br><img src='" +
              res.baseUri +
              res.results[0].image +
              "' width='400' /><br> Can be ready in " +
              res.results[0].readyInMinutes +
              " minutes";
            getsource(res.results[0].id);
          },
        });
      }
    </script>
  </body>
</html>